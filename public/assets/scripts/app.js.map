{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./app/sass/main.scss?0504","webpack:///./app/scripts/App.ts","webpack:///./app/scripts/env.ts","webpack:///./app/scripts/modules.ts","webpack:///./app/scripts/modules/AbstractModule.ts","webpack:///./app/scripts/modules/_Example.ts","webpack:///./app/scripts/transitions/BaseTransition.ts","webpack:///./app/scripts/transitions/TransitionManager.ts","webpack:///./app/scripts/transitions/transitions.ts","webpack:///./node_modules/fuel-pjax/src/lib/events/link-events.ts","webpack:///./node_modules/fuel-pjax/src/lib/events/on.ts","webpack:///./node_modules/fuel-pjax/src/lib/events/trigger.ts","webpack:///./node_modules/fuel-pjax/src/lib/parse-options.ts","webpack:///./node_modules/fuel-pjax/src/lib/util/check-element.ts","webpack:///./node_modules/fuel-pjax/src/lib/util/contains.ts","webpack:///./node_modules/fuel-pjax/src/lib/uuid.ts","webpack:///./node_modules/fuel-pjax/src/pjax.ts","webpack:///./node_modules/uuid/lib/bytesToUuid.js","webpack:///./node_modules/uuid/lib/rng-browser.js","webpack:///./node_modules/uuid/v4.js"],"names":[],"mappings":"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","file":"scripts/app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","// extracted by mini-css-extract-plugin","import { APP_NAME, html, isDebug } from './env';\r\n\r\nimport * as modules from './modules';\r\nimport TransitionManager from './transitions/TransitionManager';\r\n\r\nclass App{\r\n    modules:{ [index:string] : Function };\r\n    currentModules: Array<Module>;\r\n    transitionManager: TransitionManager;\r\n\r\n    constructor(){\r\n        this.modules            = modules;\r\n        this.currentModules     = [];\r\n        this.transitionManager  = null;\r\n\r\n        this.init();\r\n    }\r\n\r\n    /**\r\n     * Used to call any methods needed when the application initially loads\r\n     */\r\n    init(){\r\n        html.classList.remove('has-no-js');\r\n        html.classList.add('has-js');\r\n\r\n        window.addEventListener('load', e => { html.classList.add('has-loaded') });\r\n\r\n        document.addEventListener('seppuku', e => this.deleteModule(<CustomEvent>e) ); // Listen for our custom events\r\n\r\n        this.initModules(); // Get initial modules\r\n        this.handleStatus(); // Check the users visitor status\r\n\r\n        this.transitionManager = new TransitionManager(this);\r\n    }\r\n\r\n    /**\r\n     * Sets relevant classes based on the users visitor status\r\n     * Uses local storage to store status trackers\r\n     * If the user has not visited in 24 hours add a first of day class\r\n     * Always reset the daily visit time on every visit\r\n     * @todo Check if we need permision to set these trackers\r\n     */\r\n    handleStatus(){\r\n        // Handle unique visitor status\r\n        if(window.localStorage.getItem(`${APP_NAME}_UniqueVisit`) === null){\r\n            html.classList.add('is-unique-visitor');\r\n            window.localStorage.setItem(`${APP_NAME}_UniqueVisit`, 'visited');\r\n        }\r\n\r\n        // Handle first visit of the day (in 24 hours) status\r\n        if(window.localStorage.getItem(`${APP_NAME}_DailyVisit`) === null || (Date.now() - parseInt(window.localStorage.getItem(`${APP_NAME}_UniqueVisit`)) > 86400000)){\r\n            html.classList.add('is-first-of-day');\r\n        } else html.classList.add('is-returning');\r\n        window.localStorage.setItem(`${APP_NAME}_DailyVisit`, Date.now().toString()); // Always update daily visit status\r\n    }\r\n\r\n    /**\r\n     * Gets all module references in the document and creates a new module\r\n     * If a module already has a UUID we won't do anything since it already\r\n     * has a module associated with the HTML element\r\n     */\r\n    initModules(){\r\n        const modules = document.querySelectorAll('[data-module]');\r\n\r\n        modules.forEach((module)=>{\r\n            const moduleType = module.getAttribute('data-module');\r\n            const moduleUUID = module.getAttribute('data-uuid');\r\n\r\n            if(this.modules[moduleType] !== undefined && moduleUUID === null){\r\n                const newModule = new this.modules[moduleType].prototype.constructor(module);\r\n                this.currentModules.push(newModule);\r\n                newModule.init();\r\n            }else{\r\n                if(isDebug) console.log('%cUndefined Module: '+`%c${moduleType}`,'color:#ff6e6e','color:#eee');\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Get all elements on the screen using the `data-module` attribute\r\n     * If an element already has a UUID it's an element that survived the page transition\r\n     * Remove (and trigger destory()) any elements module in the current modules list that didn't survive the transition\r\n     */\r\n    deleteModules(){\r\n        const modules = document.querySelectorAll('[data-module]');\r\n        const survivingModules:Array<Element> = [];\r\n        const deadModules:Array<any> = [];\r\n\r\n        modules.forEach((module)=>{ if(module.getAttribute('data-uuid') !== null) survivingModules.push(module); });\r\n\r\n        this.currentModules.map((currModule)=>{\r\n            let survived:boolean = false;\r\n            survivingModules.map((survivingModule)=>{ if(survivingModule.getAttribute('data-uuid') === currModule.uuid) survived = true; });\r\n            if(!survived) deadModules.push(currModule);\r\n        });\r\n\r\n        if(deadModules.length){\r\n            deadModules.map((deadModule)=>{\r\n                for(let i = 0; i < this.currentModules.length; i++){\r\n                    if(this.currentModules[i].uuid === deadModule.uuid){\r\n                        this.currentModules[i].destroy();\r\n                        this.currentModules.splice(i);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Delete a module based on the modules UUID\r\n     * @param {CustomEvent} e\r\n     */\r\n    public deleteModule(e:CustomEvent){\r\n        const moduleID = e.detail.id;\r\n        if(!moduleID){\r\n            if(isDebug) console.log('%cDelete Module Error: '+'%cmodule UUID was not sent in the custom event','color:#ff6e6e','color:#eee');\r\n            return;\r\n        }\r\n\r\n        for(let i = 0; i < this.currentModules.length; i++){\r\n            if(this.currentModules[i].uuid === moduleID){\r\n                this.currentModules[i].destroy();\r\n                const index = this.currentModules.indexOf(this.currentModules[i]);\r\n                this.currentModules.splice(index, 1);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * IIFE for launching the application\r\n */\r\n(()=>{\r\n    new App();\r\n})();","const APP_NAME      = 'REPLACE_ME';\r\n\r\nconst html              = document.documentElement;\r\nconst body              = document.body;\r\nconst pjaxContainer     = '.js-pjax-container';\r\nconst pjaxWrapper       = '.js-pjax-wrapper';\r\nconst isDebug           = (html.getAttribute('data-debug') !== null) ? !!html.getAttribute('data-debug') : false;\r\n\r\nexport { APP_NAME, html, body, pjaxWrapper, pjaxContainer, isDebug };","export { default as Example } from './modules/_Example';","import * as uuid from 'uuid/v4';\r\n\r\nexport default class{\r\n    $el: Element;\r\n    uuid: string;\r\n\r\n    constructor(el: Element){\r\n        this.$el = el; // Sets initial reference to the element that generated the module\r\n        this.uuid = uuid(); // Generates a UUID using UUID v4\r\n\r\n        this.$el.setAttribute('data-uuid', this.uuid); // Sets modules UUID to be used later when handling modules destruction\r\n    }\r\n\r\n    init(){}\r\n\r\n    /**\r\n     * Acts as the modules self-destruct method, when called the module will be removed from the page\r\n     * Used when removing a specific module, call is initiated by a module\r\n     */\r\n    seppuku(){\r\n        const event = new CustomEvent('seppuku', {\r\n            detail:{\r\n                id: this.uuid\r\n            }\r\n        });\r\n        document.dispatchEvent(event);\r\n        \r\n    }\r\n\r\n    /**\r\n     * Called by a module, removes attribute and logs out destruction to the console\r\n     * Used when the page transitions, call is initiated by applicaiton\r\n     * You shouldn't call this method, if you need to remove a module use the `seppuku` method\r\n     * @param {boolean} isDebug\r\n     * @param {string} MODULE_NAME\r\n     */\r\n    destroy(isDebug: boolean, MODULE_NAME: string){\r\n        this.$el.removeAttribute('data-uuid');\r\n        if(isDebug) console.log('%c[module] '+`%cDestroying ${MODULE_NAME} - ${this.uuid}`,'color:#ff6e6e','color:#eee');\r\n    }\r\n}","import { isDebug } from '../env';\r\nimport AbstractModule from './AbstractModule';\r\n\r\nconst MODULE_NAME = 'Example';\r\n\r\nexport default class extends AbstractModule{\r\n\r\n    constructor(el: Element){\r\n        super(el);\r\n        if(isDebug) console.log('%c[module] '+`%cBuilding: ${MODULE_NAME} - ${this.uuid}`,'color:#4688f2','color:#eee');\r\n    }\r\n\r\n    /**\r\n     * Called when the module is created\r\n     * Used to call any initial methods or to\r\n     * register any initial event listeners\r\n     */\r\n    init(){\r\n\r\n    }\r\n\r\n    /**\r\n     * Called when the module is destroyed\r\n     * Remove all event listners before calling super.destory()\r\n     */\r\n    destroy(){\r\n        super.destroy(isDebug, MODULE_NAME);\r\n    }\r\n}","export default class Transition{\r\n\r\n    constructor(){ }\r\n\r\n    /**\r\n     * Called by the TransitionManager when Pjax is switching pages\r\n     * Used to start any custom page transition animaitons\r\n     */\r\n    launch(){\r\n        // Handle custom transition effects\r\n\r\n        // Call when transition is finished\r\n        this.launchFinished();\r\n    }\r\n\r\n    /**\r\n     * Called when the base transition is finished hiding the page/content\r\n     * Sends a `pjax:continue` event\r\n     * This is used when Pjax is listening for a custom transition\r\n     * @see https://github.com/Pageworks/fuel-pjax#pjax-options\r\n     */\r\n    launchFinished(){\r\n        const e = new Event('pjax:continue');\r\n        document.dispatchEvent(e);\r\n    }\r\n\r\n    /**\r\n     * Call by the TransitionManager when Pjax has switched pages\r\n     * Used to stop any custom page transition animations\r\n     */\r\n    hide(){\r\n        // Handle custom transition effects\r\n\r\n    }\r\n}","import { APP_NAME, pjaxContainer, html, isDebug } from '../env';\r\nimport * as transitions from './transitions';\r\nimport Pjax from 'fuel-pjax';\r\n\r\nexport default class TransitionManager {\r\n    app:                    App\r\n    transitions:            { [index:string] : Function }\r\n    transition:             Transition\r\n    pjax:                   Pjax\r\n    initialAnimationDelay:  number\r\n\r\n    constructor(app:App){\r\n        this.app                    = app;\r\n        this.transitions            = transitions;\r\n        this.transition             = null;\r\n        this.pjax                   = new Pjax({ debug: isDebug, selectors: [`${pjaxContainer}`] });\r\n\r\n        this.initialAnimationDelay  = 1000;\r\n\r\n        this.init();\r\n    }\r\n\r\n    /**\r\n     * Declare all initial event listeners\r\n     * By default `pjax:prefetch` and `pjax:cancel` do nothing but they are available if needed\r\n     */\r\n    init(){\r\n        document.addEventListener('DOMContentLoaded', e => { this.load() }); // Listen for when the page is loaded\r\n\r\n        document.addEventListener('pjax:error', e => this.endTransition(e) );\r\n        document.addEventListener('pjax:send', e => this.launchTransition(<CustomEvent>e) );\r\n        // document.addEventListener('pjax:prefetch', ()=>{ console.log('Event: pjax:prefetch'); });\r\n        // document.addEventListener('pjax:cancel', ()=>{ console.log('Event: pjax:cancel'); } );\r\n        document.addEventListener('pjax:complete', e => this.endTransition(e) );\r\n    }\r\n\r\n    /**\r\n     * Called when the DOM has finished it's initial content load\r\n     * Sets the base DOM status classes\r\n     */\r\n    load(){\r\n        html.classList.add('dom-is-loaded');\r\n        html.classList.remove('dom-is-loading');\r\n        \r\n        setTimeout(()=>{ html.classList.add('dom-is-animated') }, this.initialAnimationDelay);\r\n    }\r\n\r\n    /**\r\n     * Called when Pjax fires the `pjax:send` event\r\n     * Get the trigger element that is passed from Pjax via the CustomEvent.detail\r\n     * Set our transition attribute based on the `data-transition` attribute of the trigger element\r\n     * Construct our new transition\r\n     * Update the DOM status classes\r\n     * Launch our transition\r\n     * @param {CustomEvent} e\r\n     */\r\n    launchTransition(e:CustomEvent){\r\n        let transition  = 'BaseTransition';\r\n\r\n        if(e.detail !== undefined){\r\n            const el    = e.detail.el;\r\n            transition  = (el.getAttribute('data-transition') !== null) ? el.getAttribute('data-transition') : 'BaseTransition';\r\n        }\r\n\r\n        html.setAttribute('data-transition', transition);\r\n\r\n        this.transition = new this.transitions[transition].prototype.constructor();\r\n\r\n        html.classList.remove('dom-is-loaded', 'dom-is-animated');\r\n        html.classList.add('dom-is-loading');\r\n\r\n        this.transition.launch();\r\n    }\r\n\r\n    /**\r\n     * Called when Pjax fires `pjax:error` or `pjax:cancel` or `pjax:complete`\r\n     * Resets DOM status classes to the default state(s)\r\n     * Gets the templates name from `this.getTemplateName()`\r\n     * Displays the name if we're in debug mode\r\n     * If the template is labeled `home` set the `is-homepage` status class\r\n     * Tells the main applicaiton it can init any new modules\r\n     * @param {Event} e\r\n     */\r\n    endTransition(e:Event){\r\n        const templateName = this.getTemplateName();\r\n\r\n        if(isDebug) console.log('%c[view] '+`%cDisplaying: ${templateName}`,'color:#ecc653','color:#eee');\r\n\r\n        html.classList.add('dom-is-loaded');\r\n        html.classList.remove('dom-is-loading');\r\n        \r\n        setTimeout(()=>{ html.classList.add('dom-is-animated') }, this.initialAnimationDelay);\r\n\r\n        if(templateName === 'home') html.classList.add('is-homepage');\r\n        else html.classList.remove('is-homepage');\r\n\r\n        // Tell our transition it can end the transition\r\n        this.transition.hide();\r\n\r\n        // Tell our main applicaiton it can init any new modules\r\n        this.app.initModules();\r\n\r\n        // Tell our main applicaiton it can delete any old modules\r\n        this.app.deleteModules();\r\n\r\n        // Reset for next transition\r\n        this.reinit();\r\n    }\r\n    \r\n    /**\r\n     * Get all sections within our Pjax wrapper (article)\r\n     * Look through elements for the first node with a `data-template` attribute\r\n     * Return the name given to the section\r\n     * Otherwise return 'MISSING_TEMPLATE_NAME'\r\n     */\r\n    getTemplateName(){\r\n        let templateName = 'MISSING_TEMPLATE_NAME';\r\n\r\n        const secitons = html.querySelectorAll('section');\r\n\r\n        if(secitons){\r\n            secitons.forEach((el)=>{\r\n                if(el.getAttribute('data-template') !== null) templateName = el.getAttribute('data-template'); \r\n            });\r\n        }\r\n\r\n        return templateName;\r\n    }\r\n\r\n    /**\r\n     * Called when we've finished our transition\r\n     * Resets our transition object and the DOM's `data-transition` attribute\r\n     */\r\n    reinit(){\r\n        html.setAttribute('data-transition', '');\r\n        this.transition = null;\r\n    }\r\n}","export { default as BaseTransition } from './BaseTransition';","// Function Imports\r\nimport on from './on';\r\n\r\n// TypeScript Declaration Imports\r\nimport globals from '../../globals';\r\n\r\nconst attrState:string = 'data-pjax-state';\r\n\r\n/**\r\n * Check if the event has had it's default prevented OR\r\n * if the developer added a `prevent-default` attribute OR\r\n * if the element has a `no-transition` class\r\n * otherwise return false\r\n * @param el\r\n * @param e\r\n */\r\nconst isDefaultPrevented = (el:HTMLAnchorElement, e:Event)=>{\r\n    let isPrevented = false;\r\n    if(e.defaultPrevented) isPrevented = true;\r\n    else if(el.getAttribute('prevent-default') !== null) isPrevented = true;\r\n    else if(el.classList.contains('no-transition')) isPrevented = true;\r\n    else if(el.getAttribute('download') !== null) isPrevented = true;\r\n    else if(el.getAttribute('target') !== null) isPrevented = true;\r\n    \r\n    return isPrevented;\r\n}\r\n\r\n/**\r\n * Check for link types and edge cases so we can abort if needed\r\n * This method prevents us from breaking some default browser behaviors\r\n * @param el \r\n * @param e \r\n */\r\nconst checkForAbort = (el:HTMLAnchorElement, e:Event)=>{\r\n    // Ignore external links\r\n    if(el.protocol !== window.location.protocol || el.host !== window.location.host) return 'external';\r\n\r\n    // Ignore anchors on the same page\r\n    if(el.hash && el.href.replace(el.hash, '') === window.location.href.replace(location.hash, '')) return 'anchor';\r\n\r\n    // Ignore empty anchor\r\n    if(el.href === `${window.location.href.split('#')[0]}, '#'`) return 'anchor-empty';\r\n\r\n    return null;\r\n}\r\n\r\n/**\r\n * Called when a user clicks on a link\r\n * First we check if default is prevented\r\n * Then we prepare our eventOptions object, this is used to store specific or\r\n * unique data for this event that we don't need/want attached to the overall\r\n * pjax.options for our globals class\r\n * Then we check to see if there is any reason to abort the event hijack\r\n * Then we prevent default\r\n * Then we check if the event is a reload or is linked to the same page\r\n * Then we set the load state for the element\r\n * Finally we call loadUrl and pass in our desired href and the new eventOptions object\r\n * @param {HTMLAnchorElement} el\r\n * @param {Event} e\r\n * @param {Pjax} pjax\r\n */\r\nconst handleClick = (el:HTMLAnchorElement, e:Event, pjax:any)=>{\r\n    if(isDefaultPrevented(el, e)) return;\r\n\r\n    const eventOptions:globals.EventOptions = {\r\n        triggerElement: el\r\n    };\r\n\r\n    const attrValue = checkForAbort(el, e);\r\n    if(attrValue !== null){\r\n        el.setAttribute(attrState, attrValue);\r\n        return;\r\n    }\r\n\r\n    e.preventDefault();\r\n\r\n    // Don't do 'nothing' if the user is trying to reload the page by clicking on the same link twice\r\n    if(el.href === window.location.href.split('#')[0]) el.setAttribute(attrState, 'reload');\r\n    else el.setAttribute(attrState, 'load');\r\n    \r\n    pjax.handleLoad(el.href, el.getAttribute(attrState), el);\r\n}\r\n\r\n/**\r\n * Called when a user hovers/unhovers a link element\r\n * First we check if default is prevented\r\n * Then we check if it's a `mouseout` event\r\n * If it's a `mouseout` event we need to handle the change\r\n * Otherwise we defien our eventOptions (see handleClick for more info on eventOptions object)\r\n * Then we check if we should abort for any reason\r\n * Then we set our prefetch state\r\n * Finally we call prefetch and pass in our desired href and the new eventOptions object\r\n * @param {HTMLAnchorElement} el\r\n * @param {Event} e\r\n * @param {Pjax} pjax\r\n */\r\nconst handleHover = (el:HTMLAnchorElement, e:Event, pjax:any)=>{\r\n    if(isDefaultPrevented(el, e)) return;\r\n\r\n    if(e.type === 'mouseout'){\r\n        pjax.clearPrefetch();\r\n        return;\r\n    }\r\n\r\n    const eventOptions:globals.EventOptions = {\r\n        triggerElement: el\r\n    };\r\n\r\n    const attrValue = checkForAbort(el, e);\r\n    if(attrValue !== null){\r\n        el.setAttribute(attrState, attrValue);\r\n        return;\r\n    }\r\n\r\n    // If the user is hovering over the link to their current page do nothing\r\n    // There is no reason to prefetch the same page since the reload state has unique functionality\r\n    if(el.href !== window.location.href.split('#')[0]) el.setAttribute(attrState, 'prefetch');\r\n    else return;\r\n\r\n    pjax.handlePrefetch(el.href, eventOptions);\r\n}\r\n\r\n/**\r\n * Start by setting our globals state attribute to nothing\r\n * This will prevent us to setting the listeners to an element that we've already parsed\r\n * Then attach the `click` event\r\n * Then attach the `mouseover` event\r\n * Then attach the `mouseout` event\r\n * Then attach the `keyup` event\r\n * For the `keyup` event check for the enter key or the enter key's key code\r\n * Key code is depricated but is needed for older browser support (IE<=10)\r\n * @param {HTMLAnchorElement} el\r\n * @param {Pjax} pjax\r\n */\r\nexport default (el:HTMLAnchorElement, pjax:any)=>{\r\n    el.setAttribute(attrState, '');\r\n\r\n    // Use clicked a link\r\n    on(el, 'click', (e:Event)=>{ handleClick(el, e, pjax); });\r\n\r\n    // User is hovering over a link\r\n    on(el, 'mouseover', (e:Event)=>{ handleHover(el, e, pjax); });\r\n\r\n    // User unhovered the link\r\n    on(el, 'mouseout', (e:Event)=>{ handleHover(el, e, pjax); });\r\n\r\n    // User released a key press\r\n    on(el, 'keyup', (e:KeyboardEvent)=>{\r\n        if(e.key === 'enter' || e.keyCode === 13) handleClick(el, e, pjax);\r\n    });\r\n}","/**\r\n * This method will add our desired event listener to the provided element\r\n * and will call the desired listener callback when the event is fired\r\n * @param {HTMLAnchorElement} el\r\n * @param {string} event\r\n * @param {EventListener} listener\r\n */\r\nexport default (el:HTMLAnchorElement, event:string, listener:EventListener)=>{\r\n    el.addEventListener(event, listener);\r\n}","/**\r\n * Used to dispatch custom events\r\n * Takes the node you want the event to be dispatched with\r\n * Loops through array of strings and fires each string as a custom event\r\n * @param {Node} el\r\n * @param {Array<string>} events\r\n * @param {HTMLAnchorElement} target Triggers custom event when set, defaults to `null`\r\n */\r\nexport default (el: Node, events: string[], target:HTMLAnchorElement = null)=>{\r\n    events.forEach((e)=>{\r\n        if(target !== null){\r\n            const customEvent = new CustomEvent(e, {\r\n                detail:{\r\n                    el: target\r\n                }\r\n            });\r\n            el.dispatchEvent(customEvent);\r\n        }else{\r\n            const event = new Event(e);\r\n            el.dispatchEvent(event);\r\n        }\r\n    });\r\n}","import pjax from '../globals'; // Imports IOptions declaration\r\n\r\n/**\r\n * Parse options based on the IOptions object passed in by the Pjax class' constructor\r\n */\r\nexport default (options:pjax.IOptions = null)=>{\r\n    const   parsedOptions                   = (options !== null) ? options : {};\r\n            parsedOptions.elements          = (options !== null && options.elements !== undefined) ? options.elements : 'a[href]';\r\n            parsedOptions.selectors         = (options !== null && options.selectors !== undefined) ? options.selectors : ['.js-pjax'];\r\n            parsedOptions.history           = (options !== null && options.history !== undefined) ? options.history : true;\r\n            parsedOptions.scrollTo          = (options !== null && options.scrollTo !== undefined) ? options.scrollTo : 0;\r\n            parsedOptions.cacheBust         = (options !== null && options.cacheBust !== undefined) ? options.cacheBust : false;\r\n            parsedOptions.debug             = (options !== null && options.debug !== undefined) ? options.debug : false;\r\n            parsedOptions.timeout           = (options !== null && options.timeout !== undefined) ? options.timeout : 0;\r\n            parsedOptions.titleSwitch       = (options !== null && options.titleSwitch !== undefined) ? options.titleSwitch : true;\r\n            parsedOptions.customTransitions = (options !== null && options.customTransitions !== undefined) ? options.customTransitions : false;\r\n    return  parsedOptions;\r\n}","/**\r\n * Called by `Pjax.parseDOM`\r\n * Takes the provided element and checks to make sure\r\n * the element is an HTMLAnchorElement by checking it's tag name\r\n * If the element is an HTMLAnchorElement check if it alreay has a pjax state\r\n * If not set link event listeners\r\n * @param {Element} el\r\n * @param {Pjax} pjax\r\n */\r\nexport default (el:Element, pjax:any)=>{\r\n    switch(el.tagName.toLocaleLowerCase()){\r\n        case 'a':\r\n            if(!el.hasAttribute(pjax.options.attrState)) pjax.setLinkListeners(el);\r\n            break;\r\n        default:\r\n            throw 'Pjax can only be applied on <a> elements';\r\n    }\r\n}","/**\r\n * Checks if the requested document contains the required selectors and element\r\n * Loops through all selectors and checks for the selector class or id\r\n * If there are elements loop through those elements and check if the element is our required element\r\n * Return true if the document matches our required framework\r\n * Return false by default\r\n * @param {Document} doc\r\n * @param {Array<string>} selectors\r\n * @param {Element} element\r\n */\r\nexport default (doc: Document, selectors: string[], element: Element)=>{\r\n    selectors.map((selector)=>{\r\n        const selectorEls = doc.querySelectorAll(selector);\r\n        selectorEls.forEach((el)=>{\r\n            if(el.contains(element)){\r\n                return true;\r\n            }\r\n        });\r\n    });\r\n\r\n    return false;\r\n}","/**\r\n * Cheap and easy UUID generation\r\n * Could be replaced by actual UUID generation later\r\n */\r\nexport default ()=>{\r\n    return Date.now().toString();\r\n}","// Function Imports\r\nimport parseOptions from './lib/parse-options';\r\nimport uuid from './lib/uuid';\r\nimport trigger from './lib/events/trigger';\r\nimport contains from './lib/util/contains';\r\nimport linkEvent from './lib/events/link-events';\r\nimport checkElement from './lib/util/check-element';\r\n\r\n// TypeScript Declarations\r\nimport globals from './globals';\r\n\r\nexport default class Pjax{\r\n    state:              globals.StateObject\r\n    cache:              globals.CacheObject\r\n    options:            globals.IOptions\r\n    lastUUID:           string\r\n    request:            XMLHttpRequest\r\n    links:              NodeList\r\n    confirmed:           boolean\r\n    cachedSwitch:       globals.CachedSwitchOptions\r\n\r\n    constructor(options?:globals.IOptions){\r\n        this.state = {\r\n            url: window.location.href,\r\n            title: document.title,\r\n            history: true,\r\n            scrollPos: [0,0]\r\n        };\r\n        this.cache              = null;\r\n        this.options            = parseOptions(options);\r\n        this.lastUUID           = uuid();\r\n        this.request            = null;\r\n        this.confirmed           = false;\r\n        this.cachedSwitch       = null;\r\n\r\n        if(this.options.debug) console.log('Pjax Options:', this.options);\r\n\r\n        this.init();\r\n    }\r\n\r\n    /**\r\n     * Declare all initial event listeners\r\n     * Calls parseDOM to init all base link event listeners\r\n     */\r\n    init(){\r\n        window.addEventListener('popstate', e => this.handlePopstate(e));\r\n\r\n        if(this.options.customTransitions) document.addEventListener('pjax:continue', e => this.handleContinue(e) );\r\n\r\n        this.parseDOM(document.body); // Attach listeners to initial link elements\r\n    }\r\n\r\n    handleReload(){\r\n        window.location.reload();\r\n    }\r\n\r\n    /**\r\n     * Take the parsed element and attach our link listeners to it.\r\n     * @param {HTMLAnchorElement} el\r\n     */\r\n    setLinkListeners(el:HTMLAnchorElement){\r\n        linkEvent(el, this);\r\n    }\r\n\r\n    /**\r\n     * Called by `this.parseDOM`.\r\n     * Takes the provided element and queries for all our desired elements\r\n     * defined in this.options.elements (default as HTMLAnchorElement)\r\n     * @param {Element} el\r\n     * @returns `NodeList`\r\n     */\r\n    getElements(el:Element){\r\n        return el.querySelectorAll(this.options.elements);\r\n    }\r\n\r\n    /**\r\n     * This method parses the DOM looking for our desired elements.\r\n     * Once we have our elements as a NodeList we loop through the\r\n     * elements looking to see if the element is an HTMLAnchorElement.\r\n     * @param {Element} el Element\r\n     */\r\n    parseDOM(el:Element){\r\n        const elements = this.getElements(el);\r\n        elements.forEach((el)=>{\r\n            checkElement(el, this);\r\n        });\r\n    }\r\n\r\n    // handleRefresh(el:Element){\r\n    //     this.parseDOM(el);\r\n    // }\r\n\r\n    /**\r\n     * Handles the windows popstate event.\r\n     * Called by a popstate event listener.\r\n     * @param {PopStateEvent} e\r\n     */\r\n    handlePopstate(e: PopStateEvent){\r\n        if(e.state){\r\n            if(this.options.debug) console.log('Hijacking Popstate Event');\r\n            this.loadUrl(e.state.url, 'popstate');\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Called when we need to abort an XMLHttpRequest.\r\n     * If the request is null do nothing.\r\n     * If the request is not ready abort and make null.\r\n     */\r\n    abortRequest(){\r\n        if(this.request === null) return;\r\n        if(this.request.readyState !== 4){\r\n            this.request.abort();\r\n            this.request = null;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Abort any current request.\r\n     * If we have content cached load the content.\r\n     * If we don't have content cached trigger the pjax:send event before\r\n     * starting our new XML HTTP request.\r\n     * @param {string} href\r\n     * @param {string} options\r\n     */\r\n    loadUrl(href:string, loadType:string){\r\n        this.abortRequest();\r\n\r\n        if(this.cache === null){\r\n            this.handleLoad(href, loadType);\r\n        }else{\r\n            this.loadCachedContent();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * First we check if we have a state object to use with the history state.\r\n     * If we do and we want to defind our browsers history get a new UUID.\r\n     * Then use `window.history.pushState` to set a new browser history state.\r\n     * If we're not defining the browsers history use `window.history.replaceState`.\r\n     */\r\n    handlePushState(){\r\n        if(this.state !== {}){\r\n            if(this.state.history){\r\n                if(this.options.debug) console.log('Pushing History State: ', this.state);\r\n                this.lastUUID = uuid();\r\n                window.history.pushState({\r\n                    url: this.state.url,\r\n                    title: this.state.title,\r\n                    uuid: this.lastUUID,\r\n                    scrollPos: [0,0]\r\n                }, this.state.title, this.state.url);\r\n            }else{\r\n                if(this.options.debug) console.log('Replacing History State: ', this.state);\r\n                this.lastUUID = uuid();\r\n                window.history.replaceState({\r\n                    url: this.state.url,\r\n                    title: this.state.title,\r\n                    uuid: this.lastUUID,\r\n                    scrollPos: [0,0]\r\n                }, document.title);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * If history is defined check if there is a hash we need to jump to\r\n     * If a hash exist get our target and set the current offset top for the window\r\n     * Then scroll to the hash's position\r\n     * Otherwise scroll to the default scroll position defined in our options object\r\n     * Otherwise if the state has a scroll position set scroll to the histroy states scroll position\r\n     */\r\n    handleScrollPosition(){\r\n        if(this.state.history){\r\n            const temp = document.createElement('a');\r\n            temp.href = this.state.url;\r\n            \r\n            if(temp.hash){\r\n                let name = temp.hash.slice(1);\r\n                name = decodeURIComponent(name);\r\n\r\n                let currTop = 0;\r\n                let target = document.getElementById(name) || document.getElementsByName(name)[0];\r\n                \r\n                if(target){\r\n                    if(target.offsetParent){\r\n                        do{\r\n                            currTop += target.offsetTop;\r\n                            target = <HTMLElement>target.offsetParent;\r\n                        } while (target);\r\n                    }\r\n                }\r\n\r\n                window.scrollTo(0, currTop);\r\n            }\r\n            else window.scrollTo(0, this.options.scrollTo);\r\n        }\r\n        else if(this.state.scrollPos){\r\n            window.scrollTo(this.state.scrollPos[0], this.state.scrollPos[1]);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Called as our final step when switching pages\r\n     * This method resets our object back to their initial values\r\n     * while also handling the history state and the scroll position\r\n     * Triggers a complete and success call when finished\r\n     */\r\n    finalize(){\r\n        if(this.options.debug) console.log('Finishing Pjax');\r\n\r\n        this.state.url = this.request.responseURL;\r\n        this.state.title = document.title;\r\n        this.state.scrollPos = [0, window.scrollY];\r\n\r\n        this.handlePushState();\r\n        this.handleScrollPosition();\r\n\r\n        this.cache              = null;\r\n        this.state              = {};\r\n        this.request            = null;\r\n        this.confirmed           = false;\r\n        this.cachedSwitch       = null;\r\n\r\n        trigger(document, ['pjax:complete']);\r\n    }\r\n\r\n    /**\r\n     * This method takes a switch queue and swapps out the innerHTML of our 'old' element with the\r\n     * content returned by the XMLHttpRequest in it's responseText\r\n     * Once the innerHTML is switched we call `this.parseDOM` and pass in the 'old' element (now containing the new elements)\r\n     * so we can set any event listeners to elements within our new html\r\n     * Calls `this.finalize` when finished\r\n     * @param {Array<globals.SwitchOptions>} switchQueue\r\n     */\r\n    handleSwitches(switchQueue:Array<globals.SwitchOptions>){\r\n        switchQueue.map((switchObj)=>{\r\n            switchObj.oldEl.innerHTML = switchObj.newEl.innerHTML;\r\n            this.parseDOM(switchObj.oldEl);\r\n        });\r\n\r\n        this.finalize();\r\n    }\r\n\r\n    /**\r\n     * Called when the developer marked `this.options.customTransitions = true` and\r\n     * Pjax has recieved the `pjax:continue` event from the developers transition manager\r\n     * Calls `this.handleSwitches` if we have switches queued\r\n     * @param {Event} e\r\n     */\r\n    handleContinue(e:Event){\r\n        if(this.cachedSwitch !== null){\r\n            if(this.options.titleSwitch) document.title = this.cachedSwitch.title;\r\n            this.handleSwitches(this.cachedSwitch.queue);\r\n        }\r\n        else{\r\n            if(this.options.debug) console.log('Switch queue was empty. You might be sending `pjax:continue` too fast.');\r\n            trigger(document, ['pjax:error']);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * This method begins by building an empty array of switches\r\n     * The switch queue will be passed to our `handleSwitches` method\r\n     * Take all selectors and grab the new elements and old elements from the documents provided\r\n     * If we don't have the same number of elements to switch to it means the documents (pages) don't have the same layout\r\n     * Build switch objects based on how many new elements we have to switch to\r\n     * Push the new switch objects into the switch queue\r\n     * If the switch queue is empty we couldn't find any containers in the documents to swap\r\n     * If emtpy call `this.lastChance` so we can let the browser switch to the page\r\n     * Otherwise set the document title and then call `this.handleSwitches` and provide the switch queue\r\n     * @param {Array<string>} selectors\r\n     * @param {Document} toEl\r\n     * @param {Document} fromEl\r\n     */\r\n    switchSelectors(selectors: string[], toEl: Document, fromEl: Document){\r\n        const switchQueue:Array<globals.SwitchOptions> = [];\r\n\r\n        selectors.forEach((selector)=>{\r\n            const newEls = toEl.querySelectorAll(selector);\r\n            const oldEls = fromEl.querySelectorAll(selector);\r\n\r\n            if(this.options.debug) console.log('Pjax Switch Selector: ', selector, newEls, oldEls);\r\n\r\n            if(newEls.length !== oldEls.length){\r\n                if(this.options.debug) console.log('DOM doesn\\'t look the same on the new page');\r\n                this.lastChance(this.request.responseURL);\r\n                return;\r\n            }\r\n\r\n            newEls.forEach((newElement, i)=>{\r\n                const oldElement = oldEls[i];\r\n\r\n                const elSwitch = {\r\n                    newEl: newElement,\r\n                    oldEl: oldElement\r\n                };\r\n\r\n                switchQueue.push(elSwitch);\r\n            });\r\n        });\r\n        \r\n        if(switchQueue.length === 0){\r\n            if(this.options.debug) console.log('Couldn\\'t find anything to switch');\r\n            this.lastChance(this.request.responseURL);\r\n            return;\r\n        }\r\n        \r\n        if(!this.options.customTransitions){\r\n            if(this.options.titleSwitch) document.title = toEl.title;\r\n            this.handleSwitches(switchQueue);\r\n        }\r\n        else{\r\n            this.cachedSwitch = {\r\n                queue: switchQueue,\r\n                title: toEl.title\r\n            };\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Called when something goes wrong\r\n     * This method is our failsafe for the Pjax application\r\n     * This method provides base level and expected browser response to a page change\r\n     * @param {string} uri\r\n     */\r\n    lastChance(uri:string){\r\n        if(this.options.debug) console.log('Cached content has a response of ', this.cache.status,' but we require a success response, fallback loading uri ', uri);\r\n        window.location.href = uri;\r\n    }\r\n\r\n    /**\r\n     * Check if the cached content has a successful response\r\n     * @see https://developer.mozilla.org/en-US/docs/Web/HTTP/Status\r\n     */\r\n    statusCheck(){\r\n        for(let status = 200; status <= 206; status++){\r\n            if(this.cache.status === status) return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * If we have cached content we need to check if there is an active element and if the document contains our selectors and active element\r\n     * If it does blur the HTMLElement\r\n     * Then tell Pjax to switch selectors\r\n     * Can be aborted if our cached content has a non-200 response status, if we need to abort due to an issue call `this.lastChance`\r\n     */\r\n    loadCachedContent(){\r\n        if(!this.statusCheck()){\r\n            this.lastChance(this.cache.url);\r\n            return;\r\n        }\r\n\r\n        if(document.activeElement && contains(document, this.options.selectors, document.activeElement)){\r\n            try{\r\n                (document.activeElement as HTMLElement).blur();\r\n            }catch(e){ console.log(e) }\r\n        }\r\n\r\n        this.switchSelectors(this.options.selectors, this.cache.html, document);\r\n    }\r\n\r\n    /**\r\n     * Create an HTML Document\r\n     * Check if the responseText is an HTML Document by checking with regex\r\n     * If the responseText matches our format return the new document otherwise return null\r\n     * @param {string} responseText\r\n     */\r\n    parseContent(responseText: string){\r\n        const tempEl = document.implementation.createHTMLDocument('globals');\r\n\r\n        // let htmlRegex = /<html[^>]+>/gi;\r\n        const htmlRegex = /\\s?[a-z:]+(?=(?:\\'|\\\")[^\\'\\\">]+(?:\\'|\\\"))*/gi;\r\n        const matches = responseText.match(htmlRegex);\r\n        \r\n        if(matches && matches.length) return tempEl;\r\n\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * Attempts to cache the prefetched request\r\n     * First we parse the content and return a new HTML Document\r\n     * If parseContent returns null trigger and error and return\r\n     * Otherwise set the innerHTML of the document to the responseText\r\n     * Then cache the temp HTML Document\r\n     * @param {string} responseText\r\n     * @param {number} responseStatus\r\n     * @param {string} uri\r\n     */\r\n    cacheContent(responseText:string, responseStatus:number, uri:string){\r\n        const tempEl = this.parseContent(responseText);\r\n\r\n        if(tempEl === null){\r\n            trigger(document, ['pjax:error']);\r\n            return;\r\n        }\r\n\r\n        tempEl.documentElement.innerHTML = responseText;\r\n        this.cache = {\r\n            status: responseStatus,\r\n            html: tempEl,\r\n            url: uri\r\n        }\r\n\r\n        if(this.options.debug) console.log('Cached Content: ', this.cache);\r\n    }\r\n\r\n    /**\r\n     * Called when we need to handle a `click` event and the page is loaded\r\n     * First we parse the response text to see if we can build an artificial document\r\n     * If we can't respond with an error and call `this.lastChance`\r\n     * Otherwise set the documents innerHTML with our response text\r\n     * Remove the :focus of any inputs\r\n     * Call our switch selectors method\r\n     * @param {string} responseText\r\n     */\r\n    loadContent(responseText:string){\r\n        const tempEl = this.parseContent(responseText);\r\n\r\n        if(tempEl === null){\r\n            trigger(document, ['pjax:error']);\r\n            this.lastChance(this.request.responseURL);\r\n            return;\r\n        }\r\n\r\n        tempEl.documentElement.innerHTML = responseText;\r\n\r\n        if(document.activeElement && contains(document, this.options.selectors, document.activeElement)){\r\n            try{\r\n                (document.activeElement as HTMLElement).blur();\r\n            }catch(e){ console.log(e) }\r\n        }\r\n\r\n        this.switchSelectors(this.options.selectors, tempEl, document);\r\n    }\r\n\r\n    /**\r\n     * This method handles our different response types\r\n     * First we check if the response has HTML for us to handle\r\n     * If the state was a prefetch cache our response\r\n     * Or if the request was confirmed (user clicked link during prefetch response) handle load\r\n     * Set our history state based on they load type (set in link-events.ts)\r\n     * @param {Event} e\r\n     * @param {string} loadType\r\n     */\r\n    handleResponse(e:Event, loadType:string){\r\n        if(this.options.debug) console.log('XML Http Request Status: ', this.request.status);\r\n\r\n        const request = this.request;\r\n        \r\n        if(request.responseText === null){\r\n            trigger(document, ['pjax:error']);\r\n            return;\r\n        }\r\n\r\n        switch(loadType){\r\n            case 'prefetch':\r\n                this.state.history = true;\r\n                if(this.confirmed) this.loadContent(request.responseText);\r\n                else this.cacheContent(request.responseText, request.status, request.responseURL);\r\n                break;\r\n            case 'popstate':\r\n                this.state.history = false;\r\n                this.loadContent(request.responseText);\r\n                break;\r\n            case 'reload':\r\n                this.state.history = false;\r\n                this.loadContent(request.responseText);\r\n                break;\r\n            default:\r\n                this.state.history = true;\r\n                this.loadContent(request.responseText);\r\n                break;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * This method takes the link we need to send an XMLHttpRequest to and handles the request\r\n     * First we defind our request's params and we begin to build our request\r\n     * If we have query params we prepare our new href\r\n     * If we are cache busting we apply a timestamp to the href\r\n     * Then we return an ES6 promise to the method that called this method\r\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest\r\n     * @param {string} href\r\n     */\r\n    doRequest(href:string){\r\n        const   reqeustMethod:string  = 'GET';\r\n        const   timeout               = this.options.timeout || 0;\r\n        const   request               = new XMLHttpRequest();\r\n        let     uri                   = href;\r\n        const   queryString           = href.split('?')[1];\r\n\r\n        if(this.options.cacheBust) uri += (queryString === undefined) ? (`?cb=${Date.now()}`) : (`&cb=${Date.now()}`);\r\n\r\n        return new Promise((resolve, reject)=>{\r\n            request.open(reqeustMethod, uri, true);\r\n            request.timeout = timeout;\r\n            request.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\r\n            request.setRequestHeader('X-PJAX', 'true');\r\n            request.setRequestHeader('X-PJAX-Selectors', JSON.stringify(this.options.selectors));\r\n            request.onload = resolve;\r\n            request.onerror = reject;\r\n            request.send();\r\n            this.request = request;\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Called by a HTMLAnchorElement's `mouseover` event listener\r\n     * Start by aborting the active request\r\n     * Trigger the `pjax:prefetch` event\r\n     * Do the request and handle the response\r\n     * @param {string} href\r\n     */\r\n    handlePrefetch(href:string){\r\n        if(this.options.debug) console.log('Prefetching: ', href);\r\n\r\n        this.abortRequest();\r\n\r\n        trigger(document, ['pjax:prefetch']);\r\n\r\n        this.doRequest(href)\r\n        .then((e:Event)=>{ this.handleResponse(e, 'prefetch'); })\r\n        .catch((e:ErrorEvent)=>{\r\n            if(this.options.debug) console.log('XHR Request Error: ', e);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Called when use clicks a link, even if we're already prefetching\r\n     * @param {string} href\r\n     * @param {string} loadType\r\n     * @param {HTMLAnchorElement} el\r\n     */\r\n    handleLoad(href:string, loadType:string, el:HTMLAnchorElement = null){\r\n        trigger(document, ['pjax:send'], el);\r\n        if(this.cache !== null){ // Content is cached\r\n            if(this.options.debug) console.log('Loading Cached: ', href);\r\n            this.loadCachedContent();\r\n        }\r\n        else if(this.request !== null){ // We're still waiting for content\r\n            if(this.options.debug) console.log('Loading Prefetch: ', href);\r\n            this.confirmed = true;\r\n        }else{ // Not prefetching so do request\r\n            if(this.options.debug) console.log('Loading: ', href);\r\n            this.doRequest(href)\r\n            .then((e:Event)=>{ this.handleResponse(e, loadType); })\r\n            .catch((e:ErrorEvent)=>{\r\n                if(this.options.debug) console.log('XHR Request Error: ', e);\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Called when a user unhovers (`mouseout`) a link\r\n     * Abort the current request\r\n     * Trigger the cancel event\r\n     * Clear the cache\r\n     */\r\n    clearPrefetch(){\r\n        this.cache      = null;\r\n        this.confirmed  = false;\r\n        this.abortRequest();\r\n        trigger(document, ['pjax:cancel']);\r\n    }\r\n}","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([bth[buf[i++]], bth[buf[i++]], \n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]]]).join('');\n}\n\nmodule.exports = bytesToUuid;\n","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n"],"sourceRoot":""}